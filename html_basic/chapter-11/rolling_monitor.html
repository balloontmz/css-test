<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            background: url('test1.jpeg') no-repeat;
            background-attachment: fixed;
            color: #fff;
            font-family: Arial, Helvetica, sans-serif;
            position: relative;
        }
        #nav {
            left: 5%;
            width: 15%;
            top: 100px;
            position: fixed;
        }
        #nav ul {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        #nav ul li a {
            color: #fff;
            text-decoration: none;
            font-size: 32px;
            line-height: 2;
            border-bottom: 1px solid rgba(255, 255, 255, .2);
            display: block;
            text-indent: 10px;
            transition: all .5s;
        }
        #nav ul li a.scrolling {
            color: #ff0;
            text-indent: 0;
            border-bottom: 10px solid #ff0;
        }
        h1 {
            font-size: 120px;
            text-transform: uppercase;
            border-bottom: 2px solid #fff;
            padding-bottom: 50px;
        }
        h2 {
            font-size: 42px;
        }
        p {
            font-size: 21px;
        }
        #content {
            width: 60%;
            margin-left: 30%;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <section>
        <nav id="nav">
            <ul>
                <li><a href="#chap1" id="link1">Chap 1</a></li>
                <li><a href="#chap2" id="link2">Chap 2</a></li>
                <li><a href="#chap3" id="link3">Chap 3</a></li>
                <li><a href="#chap4" id="link4">Chap 4</a></li>
            </ul>
        </nav>
        <main id="content">
            <h1>Pellentes</h1>
            <h2 id="chap1">Chap 1</h2>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>
            <h2 id="chap2">Chap 2</h2>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>            
            <h2 id="chap3">Chap 3</h2>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>
            <h2 id="chap4">Chap 4</h2>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
                Lorem ipsum dolor sit amet consectetur adipisicing elit. A libero dolore esse officia architecto, ad eum praesentium! Officia, quibusdam perferendis? Vitae, quod iure quidem non quo libero perferendis quos provident!
            </p>        
            </main>
            <script>
                
                // 模拟 DOMContentLoaded/ jquery ready
                document.onreadystatechange = function () {
                    if (document.readyState === "interactive") {
                        
                        window.addEventListener('scroll',winScroll);
                        function winScroll(e){
                            var chap1_y = document.getElementById('chap1').getBoundingClientRect().top
                            var chap2_y = document.getElementById('chap2').getBoundingClientRect().top
                            var chap3_y = document.getElementById('chap3').getBoundingClientRect().top
                            var chap4_y = document.getElementById('chap4').getBoundingClientRect().top
                            // 拿到e之后进行你需要的处理
                            var winPos = window.scrollY
                            var buffer = 50

                            // tabletA.parentElement.classList.add('move')
                            // tabletA.parentElement.classList.remove('move')
                            document.getElementById('link1').classList.remove('scrolling')
                            document.getElementById('link2').classList.remove('scrolling')
                            document.getElementById('link3').classList.remove('scrolling')
                            document.getElementById('link4').classList.remove('scrolling')
                            
                            if (chap4_y-buffer <= 0) {
                                document.getElementById('link4').classList.add('scrolling')
                            } else if (chap3_y-buffer <= 0) {
                                document.getElementById('link3').classList.add('scrolling')
                            } else if (chap2_y-buffer <= 0) {
                                document.getElementById('link2').classList.add('scrolling')
                            } else if (chap1_y-buffer <= 0) {
                                document.getElementById('link1').classList.add('scrolling')
                            }
                            // console.log('窗口竖向位置为：', winPos)
                            // console.log('滚动监听 -- 第一章的参数为：', chap1_y)

                        }
                    }
                }
            </script>
    </section>
</body>
</html>